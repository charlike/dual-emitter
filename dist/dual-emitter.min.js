!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.DualEmitter=t()}}(function(){return function t(e,n,r){function o(s,f){if(!n[s]){if(!e[s]){var u="function"==typeof require&&require;if(!f&&u)return u(s,!0);if(i)return i(s,!0);var p=new Error("Cannot find module '"+s+"'");throw p.code="MODULE_NOT_FOUND",p}var c=n[s]={exports:{}};e[s][0].call(c.exports,function(t){var n=e[s][1][t];return o(n?n:t)},c,c.exports,t,e,n,r)}return n[s].exports}for(var i="function"==typeof require&&require,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(t,e,n){"use strict";function r(t){return this instanceof r?void(this._events=t&&"object"==typeof t?t:{}):new r(t)}e.exports=r,r.prototype.on=function(t,e,n){if("string"!=typeof t)throw new TypeError("DualEmitter#on expect `name` be string");if("function"!=typeof e)throw new TypeError("DualEmitter#on expect `fn` be function");return this._events[t]=this._hasOwn(this._events,t)?this._events[t]:[],this._events[t].push(e),n&&this._isDom(n)&&(e.outerHTML=n.outerHTML,this._element=n,n.addEventListener?n.addEventListener(t,e,!1):n.attachEvent("on"+t,e)),this},r.prototype.off=function(t,e,n){if("string"!=typeof t)throw new TypeError("DualEmitter#off expect `name` be string");if("function"!=typeof e)throw new TypeError("DualEmitter#off expect `fn` be function");return this._hasOwn(this._events,t)||this._events[t]?(this._events[t].splice(this._events[t].indexOf(e),1),n&&this._isDom(n)&&(n.removeEventListener?n.removeEventListener(t,e,!1):n.detachEvent("on"+t,e)),this):this},r.prototype.once=function(t,e,n){function r(i){return o.off(t,r,n),e(i)}var o=this;return this.on(t,r,n)},r.prototype.emit=function(t){if(!this._hasOwn(this._events,t)&&!this._events[t])return this;var e=Array.prototype.slice.call(arguments,1),n=e[e.length-1],r=this._isDom(n);n=r?n:this,e=r?e.slice(0,-1):e;for(var o=0;o<this._events[t].length;o++){var i=this._events[t][o];r&&i.outerHTML!==n.outerHTML||i.apply(n,e)}return this},r.prototype._isDom=function(t){return t=Object.prototype.toString.call(t).slice(8,-1),/(?:HTML)?(?:.*)Element/.test(t)},r.prototype._hasOwn=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.mixin=function(t,e){e=e||this;for(var n in e)t.constructor[n]=e[n];t.constructor.prototype=Object.create(e.prototype);for(var r in t)t.constructor.prototype[r]=t[r];return t.constructor.__super__=e.prototype,t.constructor}},{}]},{},[1])(1)});